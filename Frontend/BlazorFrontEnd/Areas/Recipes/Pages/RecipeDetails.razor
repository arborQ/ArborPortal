@page "/recipes/details/{recipeId}"

@using BlazorStart.Data
@using BlazorFrontEnd.Areas.Recipes.Models
@inject RecipeService recipeService
@inject FavouriteService favouriteService

<div>
    <div class="card shadow p-3">
        <div class="card shadow p-3">
            <div class="form-group">
                <label for="recipe-name">Recipe name</label>
                <input type="text" class="form-control" id="recipe-name" placeholder="Recipe name" @bind="@RecipeDetailsData.RecipeName" />
                <small id="emailHelp" class="form-text text-muted">Give recipe name</small>
            </div>
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <button class="nav-item nav-link @((selectedTab == 1 ? "active" : string.Empty))" @onclick="@(() => selectTab(1))">Description</button>
                    <button class="nav-item nav-link @((selectedTab == 2 ? "active" : string.Empty))" @onclick="@(() => selectTab(2))">Ingridients</button>
                    <button class="nav-item nav-link @((selectedTab == 3 ? "active" : string.Empty))" @onclick="@(() => selectTab(3))">Images</button>
                </div>
            </nav>
            @if (selectedTab == 1) 
            {
                <div class="form-group">
                    <label for="recipe-description">Recipe description</label>
                    <textarea class="form-control" id="recipe-description" rows="3" placeholder="Recipe description" @bind="@RecipeDetailsData.RecipeDescription"></textarea>
                </div>
            }
                <div>
        <button type="submit" class="btn btn-primary">Save</button>
        <NavLink class="btn" href="@($"recipes")">
            Cancel
        </NavLink>
    </div>
        </div>
    </div>

</div>

@code {
    [Parameter]
    public string RecipeId { get; set; } 

    int selectedTab = 1;

    public RecipeDetailsModel RecipeDetailsData { get; set; }

    public void selectTab(int index) {
        selectedTab = index;
    }

    protected override Task OnInitializedAsync()
    {
        RecipeDetailsData = new RecipeDetailsModel 
        {
            RecipeName = "new name", 
            RecipeDescription = "new description"
        };

        return Task.CompletedTask;
    }
}
